<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>最近削除されたフレーズ</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
  <header>
    <h1>最近削除されたフレーズ</h1>
    <div class="header-actions">
      <!-- 一覧ページ（Index）へ戻るボタン -->
      <a href="{{ url_for('index') }}" class="add-button">← 戻る</a>
    </div>
  </header>

  <div class="layout">
    <!-- サイドバー（Indexと同じナビゲーション） -->
    <div class="sidebar">
      <a href="{{ url_for('index') }}" class="home_button">
        <!-- ホームアイコン SVG -->
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" stroke="#8B5E3C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
          <path d="M3 9.5L12 3l9 6.5V20a1 1 0 0 1-1 1h-5v-6H9v6H4a 1 1 0 0 1-1-1V9.5z"/>
        </svg>
      </a>
      <a href="{{ url_for('add_phrase') }}">
        <!-- フレーズ追加アイコン SVG -->
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" stroke="#8B5E3C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
          <line x1="12" y1="5" x2="12" y2="19"/>
          <line x1="5" y1="12" x2="19" y2="12"/>
        </svg>
      </a>
      <a href="{{ url_for('show_favorite') }}">
        <!-- お気に入り一覧アイコン SVG（星） -->
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" stroke="#DAA520" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
          <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
        </svg>
      </a>
      <a href="{{ url_for('show_deleted_phrases') }}">
        <!-- 削除済み一覧アイコン SVG（ゴミ箱） -->
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" stroke="#8B5E3C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
          <polyline points="3 6 5 6 21 6"/>
          <path d="M19 6v14a 2 2 0 0 1-2 2H7a 2 2 0 0 1-2-2V6"/>
          <path d="M10 11v6"/>
          <path d="M14 11v6"/>
          <path d="M9 6V4a 1 1 0 0 1 1-1h4a 1 1 0 0 1 1 1v2"/>
        </svg>
      </a>
    </div>

    <!-- フレーズ一覧（削除済み） -->
    <section id="phrases">
      {% if phrases %}
        {% for p in phrases %}
          <div class="phrase-card">

            <!-- カテゴリ表示（カテゴリに応じたクラスを付与） -->
            <div class="category
              {% if p.category == '挨拶' %}category-greeting{% elif p.category == '案内' %}category-guide
              {% elif p.category == '支払い' %}category-payment{% elif p.category == 'お礼' %}category-thanks
              {% else %}category-other{% endif %}">
              {{ p.category }}
            </div>

            <!-- フレーズの日本語・英語・ネパール語表記 -->
            <div class="text-line">{{ p.jp }}</div>
            <div class="text-line">{{ p.en }}</div>
            <div class="text-line">{{ p.ne }}</div>
            {% if p.audio_filename %}
              <audio controls src="{{ url_for('static', filename='audio/' + p.audio_filename) }}"></audio>
            {% endif %}
              <form action="{{ url_for('restore_phrase', phrase_id=p.id) }}" method="POST" class="restore-form">
                <button type="submit" class="btn-restore">復元</button>
              </form>
          </div>
        {% endfor %}
      {% else %}
        <p>削除されたフレーズがありません。</p>
      {% endif %}
    </section>
  </div>
</body>
</html>
